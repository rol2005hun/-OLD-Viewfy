(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2183db"],{c9c2:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mainPostContainer"},[e._m(0),s("div",{staticClass:"createPostForm"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.publishPost(e.user._id)}}},[s("label",[e._v("Kép")]),s("input",{attrs:{type:"file",id:"postImage",required:"",accept:"image/*"},on:{change:e.uploadImage}}),s("label",{staticClass:"customFileUpload",attrs:{id:"customFileUpload",for:"postImage"}},[e._v(e._s(e.uploadProgress))]),s("label",{attrs:{for:"postName"}},[e._v("Bejegyzés neve")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",id:"postName",required:"",minlength:"6"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("label",{attrs:{for:"postDescription"}},[e._v("Bejegyzés leírása")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{type:"text",id:"postDescription",required:"",minlength:"6"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),s("label",{attrs:{for:"postPrivacy"}},[e._v("Bejegyzés adatvédelme")]),s("br"),s("select",{directives:[{name:"model",rawName:"v-model",value:e.privacy,expression:"privacy"}],attrs:{id:"postPrivacy",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.privacy=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"public"}},[e._v("Nyilvános")]),s("option",{attrs:{value:"private"}},[e._v("Privát")])]),s("br"),s("br"),e._m(1),s("div",{attrs:{id:"errorMessage"}}),s("div",{attrs:{id:"successMessage"}})])])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"headingClass"},[s("h1",[e._v("Bejegyzés készítése")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"buttonContainer"},[s("input",{staticClass:"button",attrs:{type:"submit",value:"Közzétesz"}}),s("br"),s("br")])}],n=(s("a4d3"),s("e01a"),s("99af"),s("b0c0"),s("ac1f"),s("8a79"),s("5319"),s("5530")),o=s("2f62"),i=s("2adc"),c={data:function(){return{name:"",description:"",image:"",privacy:"",uploadProgress:""}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])({storePostError:"postError",storePostStatus:"postStatus",gettersUser:"user"})),{},{postError:{get:function(){return this.storePostError},set:function(e){return e}},postStatus:{get:function(){return this.storePostStatus},set:function(e){return e}},user:{get:function(){return this.gettersUser},set:function(e){return e}}}),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["post"])),{},{uploadImage:function(e){var t=this,s=new Date,r=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),a=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds(),n=r+a,o=e.target.files[0];if(!(o.name.endsWith("jpeg")||o.name.endsWith("png")||o.name.endsWith("jpg")))return console.log("Kérlek válassz egy megfelelő fájlformátumot."),document.getElementById("customFileUpload").classList.add("fileUploadError"),void(this.uploadProgress=" sikertelen");var c=i["a"].storage().ref("images/".concat(this.user.username,"-").concat(n,"-").concat(o.name)),u=c.put(o);u.on("state_changed",(function(e){}),(function(e){}),(function(){u.snapshot.ref.getDownloadURL().then((function(e){console.log("A fájl elérhetősége:",e);var s=document.getElementById("customFileUpload");s.classList.add("noBefore"),s.classList.add("fileUploaded"),t.uploadProgress="Sikeres fájlfeltöltés.",t.image=e}))}))},publishPost:function(e){var t=this,s={name:this.name,description:this.description,privacy:this.privacy,image:this.image};this.post([s,e]).then((function(e){e.data.success&&t.$router.replace("/home")})).catch((function(){t.displayErrorMessage()}))},displaySuccessfulMessage:function(){var e=document.getElementById("successMessage"),t=document.getElementById("errorMessage");this.successfulMessage(e,t)},displayErrorMessage:function(){var e=document.getElementById("errorMessage"),t=document.getElementById("successMessage");this.postError&&this.failureMessage(e,t)},successfulMessage:function(e,t){t.innerText="",e.innerHTML=this.postStatus},failureMessage:function(e,t){t.innerText="",e.innerHTML=this.postError}}),created:function(){}},u=c,l=s("2877"),d=Object(l["a"])(u,r,a,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d2183db.7f17b801.js.map